<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Calculateur de Criticit√© | Plateforme TMS</title>
<link href="../css/style.css" rel="stylesheet"/>
<style>
        .calc-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem}
        @media(max-width:768px){.calc-grid{grid-template-columns:1fr}}
        .radio-option{display:flex;align-items:center;padding:0.75rem 1rem;margin:0.5rem 0;background:var(--gris-fond);border-radius:8px;cursor:pointer;transition:all 0.2s;border:2px solid transparent}
        .radio-option:hover{background:#e3f2fd}
        .radio-option.selected{background:var(--bleu-gip);color:white}
        .radio-option input{margin-right:1rem}
        .result-box{text-align:center;padding:2rem;border-radius:16px;margin:2rem 0}
        .result-value{font-size:4rem;font-weight:700;display:block}
        .result-acceptable{background:#c8e6c9;color:#1b5e20}
        .result-surveiller{background:#ffe0b2;color:#e65100}
        .result-critique{background:#ffcdd2;color:#b71c1c}
    </style>

  <style>
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;}
    .skip-link:focus{left:1rem;top:1rem;width:auto;height:auto;z-index:9999;padding:.6rem 1rem;background:#fff;color:#000;border-radius:.5rem;box-shadow:0 4px 18px rgba(0,0,0,.25);}
  </style>
</head>
<body>

  <a href="#main" class="skip-link">Aller au contenu principal</a>
<header class="header-modern">
<div class="header-content">
<div class="logos-header">
<img alt="RF" src="../images/logo-republique.png"/>
<img alt="FORPRO PACA" src="../images/logoFORPROPaca.png"/>
</div>
<div class="header-title">
<h1>Calculateur de Criticit√©</h1>
<p class="subtitle">√âvaluation G √ó P</p>
</div>
</div>
</header>
<nav class="nav-bar">
<div class="nav-pills-content">
<a class="nav-pill" href="../index.html">üè† Accueil</a>
<a class="nav-pill" href="../cours/module-e-evaluation.html">üìñ Cours</a>
</div>
</nav>
<main class="container" id="main">
<div class="alert alert-info" style="text-align:center;max-width:600px;margin:0 auto 2rem">
<strong>Criticit√© = Gravit√© √ó Probabilit√©</strong> (Score 1-16)
        </div>
<div class="calc-grid">
<div class="content-bloc">
<h3 class="section-title">1. Gravit√©</h3>
<div id="gravite-group">
<label class="radio-option" onclick="selectOption(this,'g',1)"><input name="g" type="radio" value="1"/><div><strong>1 ‚Äî Mineur</strong><br/><small>G√™ne passag√®re</small></div></label>
<label class="radio-option" onclick="selectOption(this,'g',2)"><input name="g" type="radio" value="2"/><div><strong>2 ‚Äî Mod√©r√©</strong><br/><small>Soins l√©gers</small></div></label>
<label class="radio-option" onclick="selectOption(this,'g',3)"><input name="g" type="radio" value="3"/><div><strong>3 ‚Äî Grave</strong><br/><small>Arr√™t de travail</small></div></label>
<label class="radio-option" onclick="selectOption(this,'g',4)"><input name="g" type="radio" value="4"/><div><strong>4 ‚Äî Tr√®s grave</strong><br/><small>S√©quelles permanentes</small></div></label>
</div>
</div>
<div class="content-bloc">
<h3 class="section-title">2. Probabilit√©</h3>
<div id="proba-group">
<label class="radio-option" onclick="selectOption(this,'p',1)"><input name="p" type="radio" value="1"/><div><strong>1 ‚Äî Rare</strong><br/><small>Exceptionnel</small></div></label>
<label class="radio-option" onclick="selectOption(this,'p',2)"><input name="p" type="radio" value="2"/><div><strong>2 ‚Äî Occasionnel</strong><br/><small>Quelques fois/an</small></div></label>
<label class="radio-option" onclick="selectOption(this,'p',3)"><input name="p" type="radio" value="3"/><div><strong>3 ‚Äî Fr√©quent</strong><br/><small>Plusieurs fois/mois</small></div></label>
<label class="radio-option" onclick="selectOption(this,'p',4)"><input name="p" type="radio" value="4"/><div><strong>4 ‚Äî Tr√®s fr√©quent</strong><br/><small>Quotidien</small></div></label>
</div>
</div>
</div>
<div class="content-bloc" id="result" style="display:none">
<h3 class="section-title">üìä R√©sultat</h3>
<div class="result-box" id="result-box">
<span class="result-value" id="score">-</span>
<span id="niveau">-</span>
</div>
<div class="alert" id="recommandation"></div>
<button class="btn btn-secondary" onclick="resetCalc()" style="margin-top:1rem">üîÑ R√©initialiser</button>
</div>
<div class="content-bloc">
<h3 class="section-title">Matrice de criticit√©</h3>
<table style="text-align:center;width:100%">
<thead><tr><th>G\P</th><th>1</th><th>2</th><th>3</th><th>4</th></tr></thead>
<tbody>
<tr><td><strong>1</strong></td><td style="background:#c8e6c9">1</td><td style="background:#c8e6c9">2</td><td style="background:#c8e6c9">3</td><td style="background:#fff9c4">4</td></tr>
<tr><td><strong>2</strong></td><td style="background:#c8e6c9">2</td><td style="background:#fff9c4">4</td><td style="background:#ffe0b2">6</td><td style="background:#ffe0b2">8</td></tr>
<tr><td><strong>3</strong></td><td style="background:#c8e6c9">3</td><td style="background:#ffe0b2">6</td><td style="background:#ffcdd2">9</td><td style="background:#ffcdd2">12</td></tr>
<tr><td><strong>4</strong></td><td style="background:#fff9c4">4</td><td style="background:#ffe0b2">8</td><td style="background:#ffcdd2">12</td><td style="background:#ef9a9a">16</td></tr>
</tbody>
</table>
<div class="grid-3" style="margin-top:1rem;text-align:center;font-size:0.9rem">
<div><span style="background:#c8e6c9;padding:0.25rem 0.5rem;border-radius:4px">1-4</span> Acceptable</div>
<div><span style="background:#ffe0b2;padding:0.25rem 0.5rem;border-radius:4px">5-8</span> √Ä surveiller</div>
<div><span style="background:#ffcdd2;padding:0.25rem 0.5rem;border-radius:4px">9-16</span> Critique</div>
</div>
</div>
</main>
<footer class="footer-modern">
<div class="footer-content">
<p class="footer-credit">¬© 2025 ‚Äî <strong>Beno√Æt Deflandre</strong> ‚Äî GRETA GIP FIPAN</p>
</div>
</footer>
<button class="btn-top scroll-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>
<button class="btn-top scroll-top-left" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>
<script>
        let g=0,p=0;
        function selectOption(el,type,val){
            document.querySelectorAll('#'+(type==='g'?'gravite':'proba')+'-group .radio-option').forEach(o=>o.classList.remove('selected'));
            el.classList.add('selected');
            el.querySelector('input').checked=true;
            if(type==='g')g=val;else p=val;
            if(g&&p)calculate();
        }
        function calculate(){
            const c=g*p;
            document.getElementById('result').style.display='block';
            document.getElementById('score').textContent=c;
            const box=document.getElementById('result-box');
            const rec=document.getElementById('recommandation');
            box.className='result-box';
            if(c<=4){
                box.classList.add('result-acceptable');
                document.getElementById('niveau').textContent='Risque ACCEPTABLE';
                rec.className='alert alert-success';
                rec.innerHTML='<strong>‚úÖ Maintenir la vigilance.</strong> Surveiller et documenter.';
            }else if(c<=8){
                box.classList.add('result-surveiller');
                document.getElementById('niveau').textContent='Risque √Ä SURVEILLER';
                rec.className='alert alert-warning';
                rec.innerHTML='<strong>‚ö† Planifier des actions</strong> dans les 1-3 mois.';
            }else{
                box.classList.add('result-critique');
                document.getElementById('niveau').textContent='Risque CRITIQUE';
                rec.className='alert alert-danger';
                rec.innerHTML='<strong>üö® Action IMM√âDIATE requise.</strong> Arr√™t si n√©cessaire.';
            }
        }
        function resetCalc(){
            g=p=0;
            document.querySelectorAll('.radio-option').forEach(o=>{o.classList.remove('selected');o.querySelector('input').checked=false});
            document.getElementById('result').style.display='none';
        }
    </script>
</body>
</html>
